{% extends "base.html" %}

{% block body %}
<h1>Search page</h1><br>
<form onsubmit="event.preventDefault()">
  ID:
  <input type="text" name="id" id="id"><br>
  <h1 id="message"></h1>
  <button id="find_button" type="button">Enviar</button>
</form>

<script>
  function clickFunction(event) {
    let headers = new Headers();
    let id = document.getElementById("id").value  

    headers.append('Content-Type', 'application/json');

    fetch(`http://{{serviceb_host}}:{{serviceb_port}}/?id=${id}`, {
      method: 'GET',
      headers: headers
    })
      .then(response => response.json())
      .then(response => document.getElementById("message").textContent = response["notification"])
  }

  buttonEl = document.getElementById("find_button")
  buttonEl.onclick = clickFunction;
</script>
{% end %}